---
title: "终端"
date: 2023-06-10T23:49:52
lastmod: 2023-08-06T08:38:40+08:00
draft: false
weight: 1001
---

## iTerm2 {#iterm2}

-   [官网下载](https://iterm2.com/downloads.html) <br/>


### 窗口管理 {#窗口管理}

| 快捷键    | 操作 |
|--------|----|
| Command-W | 关闭窗口 |


#### 分屏 {#分屏}

| 快捷键               | 操作    |
|-------------------|-------|
| Command-D            | 左右分屏 |
| Command-Shift-D      | 上下分屏 |
| Command-[            | 切换    |
| Command-]            |         |
| Option-Command-UP    | 根据方向键切换 |
| Option-Command-Down  |         |
| Option-Command-Left  |         |
| Option-Command-Right |         |


#### 标签页 {#标签页}

| 快捷键          | 操作         |
|--------------|------------|
| Command-T       | 新建标签页   |
| Command-NUM     | 根据标号切换标签页 |
| Command-Shift-[ | 切换标签页   |
| Command-Shift-] |              |
| Command-Left    | 根据方向键切换标签页窗口 |
| Command-Right   |              |


### 状态栏 {#状态栏}

`Status Bar` <br/>


#### 使能 {#使能}

1.  `Preferences > Profiles > Session` <br/>
2.  勾选 `Status bar enabled` <br/>
3.  点击 `Configure Status Bar` , 选择显示组件 <br/>


#### 设置状态栏位置 {#设置状态栏位置}

1.  `Preferences > Appearence > General > Status bar location` <br/>
2.  选择 `Bottom` <br/>


### 配色 {#配色}


#### 下载配色 {#下载配色}

| -                                                                                                                                                                                                                                                                               |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [官方提供的配色](https://github.com/mbadolato/iTerm2-Color-Schemes) :  [lovelace](https://github.com/mbadolato/iTerm2-Color-Schemes/blob/master/schemes/lovelace.itermcolors) [Afterglow](https://github.com/mbadolato/iTerm2-Color-Schemes/blob/master/schemes/Afterglow.itermcolors) |
| [Dracula](https://draculatheme.com/iterm)                                                                                                                                                                                                                                       |


#### 导入配色 {#导入配色}

`Preferences > Profiles > Color > Color Presets > Import` <br/>


### 设置窗口大小 {#设置窗口大小}

1.  `Preferences > Profiles > Window` <br/>
2.  设置 `Columns` 和 `Rows` <br/>


### 透明度 {#透明度}

1.  `Preferences > Profiles > Window > Transparency` <br/>
2.  选择 `3` <br/>


### 字体 {#字体}


#### 下载字体 {#下载字体}

| -                                                                         |
|---------------------------------------------------------------------------|
| [Consolas](https://gist.github.com/nmcc/4e8ead6c380d8331fedd04e1aa41d351) |
| [Victor Mono](https://rubjo.github.io/victor-mono/)                       |


#### 配置 {#配置}

1.  `Preferences > Profiles > Text > Font` <br/>
2.  选择 `Victor Mono` <br/>
3.  字号选择 `14` <br/>


## Homebrew {#homebrew}

-   [官网](https://brew.sh) <br/>
-   使用中科大 `USTC` 提供的安装脚本和软件源 <br/>
    [参考](https://mirrors.ustc.edu.cn/help/brew.git.html#homebrew-linuxbrew) <br/>


### 安装Homebrew {#安装homebrew}

```bash
/bin/bash -c "$(curl -fsSL https://mirrors.ustc.edu.cn/misc/brew-install.sh)"
```


### 设置源 {#设置源}

1.  源代码仓库 <br/>
    ```bash
    export HOMEBREW_BREW_GIT_REMOTE="https://mirrors.ustc.edu.cn/brew.git"
    ```
2.  预编译二进制软件包与软件包元数据文件 <br/>
    ```bash
    export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.ustc.edu.cn/homebrew-bottles"
    export HOMEBREW_API_DOMAIN="https://mirrors.ustc.edu.cn/homebrew-bottles/api"
    ```
3.  核心软件仓库 <br/>
    ```bash
    export HOMEBREW_CORE_GIT_REMOTE="https://mirrors.ustc.edu.cn/homebrew-core.git"
    ```
4.  写入配置文件, 重新导入 <br/>
    ```bash
    vi ～/.zshrc
    source ～/.zshrc
    ```


### 管理软件 {#管理软件}

默认下载源码在本地编译安装，通常是不带界面的命令行工具和第三方库; 使用cask选项则安装编译好的软件包，通常是一些带界面的软件 <br/>


#### 安装/卸载 {#安装-卸载}

```bash
brew install --cask emacs # 安装
brew uninstall --cask emacs # 卸载

brew install <package>
brew uninstall <package>

brew autoremove # 卸载未使用依赖       
```


#### 查看 {#查看}

```bash
brew list # 当前管理的程序
brew search <package> # 查找
brew info <package> # 查看包
```


## 代理 {#代理}

`Privoxy` <br/>


### 安装Privoxy {#安装privoxy}

`依赖pcre` <br/>

```bash
brew install privoxy
```


### 配置Privoxy {#配置privoxy}

1.  Privoxy使用端口号8118 <br/>
    ```bash
    vi /usr/local/etc/privoxy/config
    
    # 在文件末尾添加以下代码
    listen-address 0.0.0.0:8118
    forward-socks5 / localhost:1080 .
    ```
2.  手动启动Privoxy <br/>
    ```bash
    sudo /usr/local/sbin/privoxy /usr/local/etc/privoxy/config
    ```
3.  查看端口是否被监听 <br/>
    ```bash
    netstat -na | grep 8118           
    ```
    <img src="/pic/macOS/终端/privoxy监听.png" width="500" /> <br/> <br/>


### 为终端配置代理 {#为终端配置代理}

1.  查询本地代理使用端口 <br/>
    `系统偏好设置 > 网络 > Wi-Fi > 高级 > 代理 > 网页代理 / 安全网页代理` <br/>
    
    <img src="/pic/macOS/终端/查询本地代理端口.png" width="500" /> <br/> <br/>
2.  配置环境变量 <br/>
    ```bash
    vi ~/.zshrc
    
    # 添加以下内容
    # 使用本地代理使用端口替换1949
    export http_proxy='http://localhost:1949'
    export https_proxy=$http_proxy
    
    # 重载配置文件
    source ~/.zshrc
    ```


## oh-my-zsh {#oh-my-zsh}

-   [官网](https://ohmyz.sh/#install) <br/>


### 安装oh-my-zsh {#安装oh-my-zsh}

```bash
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```


### 设置主题 {#设置主题}


#### 第三方主题 {#第三方主题}

1.  下载[Dracula](https://draculatheme.com/zsh)主题 <br/>
    ```bash
    ln -s Dracula/zsh/dracula.zsh-theme ~/.oh-my-zsh/themes/
    ```
2.  设置主题 <br/>
    ```bash
    vi ~/.zshrc
    
    # 屏蔽默认主题, 添加以下内容
    # ZSH_THEME="robbyrussell"         
    ZSH_THEME="dracula"
    
    # 载入配置
    source ~/.zshrc
    ```


#### 官方主题 {#官方主题}

-   下载时已存放在本地 [官方主题展示](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes) <br/>
-   使用随机主题 <br/>
    ```bash
    ZSH_THEME="random" # 随机
    ```

