---
title: "介绍游戏模式"
date: 2023-11-09T20:42:45
lastmod: 2023-11-09T20:48:48+08:00
draft: false
weight: 2002
---

`Game Mode Overview` <br/>


## 注意 {#注意}

当前运行游戏, 在地板中心位置会有火花特效, 不知什么原因 <br/>


## 说明 {#说明}

`GameModeBase` <br/>
对游戏进行设置和管理 <br/>

-   游戏模式 `Game Mode` 根据游戏规则计算游戏分数, 调整游戏设置 `Gameplay Setting` , 玩家个数, AI玩家参与情况, 一个回合的时长, 回合总数, 如何判定游戏结束, 并计算各种游戏统计数据 <br/>
-   BP_STUGameModeBase <br/>
    对关卡各种基础类类型进行设置, 使用基类或覆写后的派生类, 游戏开始运行, 动态创建指定类对象 <br/>
    
    | -                 |
    |-------------------|
    | Pawn              |
    | HUD               |
    | Player Controller |
    | Game State        |
    | Player State      |
    | Spectator         |
-   GameMode的应用对象为给关卡 <br/>
    到目前为止, 我们都在使用默认关卡 <br/>
    
    本节会添加测试关卡 <br/>


## 创建关卡 {#创建关卡}

-   `File > New Level` , 选择Basic, 命名为TestLevel, 保存到 `Content/Levels` <br/>

-   查看世界设置 `World Settings` , 可以看到各项都是默认设置, 即使用虚幻引擎提供的基类 <br/>
    
    <img src="/pic/游戏规则/介绍游戏模式/default.png" width="500" /> <br/> <br/>

-   运行, 世界大纲 `World Outliner` 中可以看到Actor列表和对应类型 <br/>
    
    |          | -            |
    |----------|--------------|
    | GameMode | GameModeBase |
    | Pawn     | DefaultPawn  |
    
    <img src="/pic/游戏规则/介绍游戏模式/actors.png" width="500" /> <br/> <br/>

-   将游戏模式 `Game Mode` 设置为BP_STUGameModeBase, 则出现我们熟悉的游戏角色和HUD等 <br/>
    
    <img src="/pic/游戏规则/介绍游戏模式/ours.png" width="1000" /> <br/> <br/>

每个关卡都可以拥有自己的游戏模式, 而基本的游戏逻辑依旧存在 <br/>


## GameMode {#gamemode}

GameMode派生自GameModeBase, 并扩展了额外功能 <br/>

-   多玩家在游戏中匹配 `Match State` 逻辑 <br/>
    本课程会创建自己的匹配逻辑, 而不使用 `GameModeBase` <br/>


## GameModeBase {#gamemodebase}

会讲解该类的许多函数, 它们如何工作, 以何种顺序调用, 我们可以从游戏状态中获得何种信息, 如何暂停、重启游戏等 <br/>

